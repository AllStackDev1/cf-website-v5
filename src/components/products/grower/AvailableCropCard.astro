---
import { Image } from "astro:assets";
import type { IAvailableDemands } from "types/app";

interface Props {
  data: IAvailableDemands;
}

const { data } = Astro.props;

const varieties = data.varieties.map((v) => v.name).join(", ");
---

<div class="group w-[285px]">
  <div class="relative">
    <div class="relative h-72 w-full overflow-hidden rounded-lg border border-gray-100">
      <Image
        width={285}
        height={288}
        alt={data.name}
        src={data.imageUrl}
        class="h-full w-full object-cover object-center bg-white rounded-lg"
      />
    </div>

    <div
      class="flex flex-col justify-start items-start self-stretch relative gap-2 pt-4"
    >
      <div
        class="flex flex-col justify-start items-start self-stretch relative gap-1 w-full sm:w-2/3 md:w-full"
      >
        <a
          href={data.link}
          class="self-stretch w-full text-base font-bold text-left text-custom_black-900 group-hover:underline underline-offset-1 decoration-2 decoration-custom_black-900"
        >
          {data.name}
        </a>
      </div>
      <div
        class="w-full sm:w-2/3 md:w-full cursor-default truncate"
        title={varieties}
      >
        <span class="text-base text-left lg:leading-6 text-custom_gray-300">
          Varieties: {varieties}
        </span>
      </div>
    </div>
  </div>
  <div class="mt-6">
    <a
      href={data.link}
      class="relative flex items-center bg-white justify-center rounded-3xl border border-1 border-buyer-100 px-8 py-2 text-sm font-medium hover:text-white text-grower-500 hover:bg-grower-500"
    >
      See details
    </a>
  </div>
</div>
